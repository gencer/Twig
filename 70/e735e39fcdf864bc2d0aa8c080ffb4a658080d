---------------------------------------------------------------------------

by stof at 2017-09-25T12:28:47Z

Does resetting the Profile object actually work fine ? This object is the data object serialized by the TwigDataCollector in `lateCollect`.
If resetting happens before this `lateCollect` (I don't remember in which order they are called), the symfony profiler would store an empty profile.

---------------------------------------------------------------------------

by derrabus at 2017-09-25T12:42:48Z

@stof This applies to any data collector or tracable service used in Symfony. Because of this, the listener that resets the profiler and other resettable services is triggered very late on the `kernel.terminate` event.

https://github.com/symfony/symfony/blob/8136fa5050761ec375278fe9273d4936a9314ec0/src/Symfony/Component/HttpKernel/EventListener/ServiceResetListener.php#L47
